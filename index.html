<!DOCTYPE html> 
<title>Sobel operation</title> 
<script src=jquery.min.js></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script> 
document.addEventListener('DOMContentLoaded', function(){
	var v = document.getElementById('v');
	var canvas = document.getElementById('c');
	var context = canvas.getContext('2d');
 
	var cw = Math.floor(canvas.clientWidth / 100);
	var ch = Math.floor(canvas.clientHeight / 100);
	canvas.width = cw;
	canvas.height = ch;
 
	v.addEventListener('play', function(){
		draw(this,context,cw,ch);
	},false);
 
},false);
 
function draw(v,c,w,h) {
	if(v.paused || v.ended)	return false;
	c.drawImage(v,0,0,w,h);
	setTimeout(draw,20,v,c,w,h);
}

$(document).on("change", ".file_multi_video", function(evt) {
  var $source = $('#video_here');
  $source[0].src = URL.createObjectURL(this.files[0]);
  $source.parent()[0].load();
});
</script> 
 
<canvas id=c></canvas> 
<video id=v controls loop class="myvideo">
	<source src="mov_bbb.mp4" id="video_here">
		Your browser does not support HTML5 video. 
</video> 
<input type="file" name="file[]" id=input class="file_multi_video" accept="video/*">



<style> 
body {
	background: black;
}
#c {
	position:absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	width: 500px;
	height: 320px;
}
 
#v {
	position:absolute;
	top: 0;
	bottom: 0;
	left: 520px;
	right: 0;
	width: 500px;
	height: 320px;
}
 
#input {
	position:absolute;
	top: 400px;
}
 
p {
	position: relative;
	z-index: 1;
}
</style> 